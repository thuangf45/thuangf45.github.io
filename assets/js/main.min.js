(()=>{function k(e,t){URL.revokeObjectURL(e),t.onload=null,t.onloadeddata=null}function m(e,t,o=!1,n=!1){fetch(e).then(r=>r.blob()).then(r=>{let a=URL.createObjectURL(r);if(t.src=a,o){let s=()=>k(a,t);n?t.onloadeddata=s:t.onload=s}}).catch(r=>console.error("Error:",r))}function i(e,t,o){if(typeof o!="function")return;let n=document.querySelectorAll(e);n.length&&n.forEach(r=>r.addEventListener(t,o))}function c(e,t){typeof t=="function"&&window.addEventListener(e,t)}function f(){return["localhost","127.0.0.1"].includes(window.location.hostname)}function p(e="",t=""){return typeof e=="string"&&e.endsWith(t)}function h(e){return e?e.charAt(0).toUpperCase()+e.slice(1).toLowerCase():""}function g(){f()||c("keydown",e=>{let t=e.key.toLowerCase();(t==="f12"||e.ctrlKey&&(t==="u"||e.shiftKey&&t==="i"))&&e.preventDefault()})}function v(e="404",t=null){let o=C(e,t);p(window.location.href,o)&&!t||(window.location.href=o)}function y(){i("[data-page]","click",e=>{let o=e.currentTarget.dataset.page;v(o)}),i("[data-hash]","click",e=>{let t=e.currentTarget,o=t.dataset.hash==="home"?"":t.dataset.hash;v("index",`#${o}`)})}function E(){return["5500","3000","8080"].includes(window.location.port)}function C(e="404",t=null){let o=E(),n;return e==="index"?n=o?"/index.html":"/":n=o?`/${e}.html`:`/${e}`,`${window.location.origin}${n}${t||""}`}function L(){c("load",()=>{let e=document.querySelector(".avatar__image");e&&m("assets/image/avatar/avatar_0.jpg",e,!0,!1);let t=document.querySelectorAll(".slider__image");t.length&&t.forEach(o=>{m(`assets/image/slider/${o.dataset.index}.jpg`,o,!0,!1)})}),c("load",()=>{let e=document.querySelectorAll(".slider__image"),t=Array.from(e),o=0;function n(r){t.forEach((a,s)=>{a.classList.remove("active"),s===r&&a.classList.add("active")})}n(o),setInterval(()=>{o=(o+1)%t.length,n(o)},4e3)}),c("scroll",()=>{let e=document.getElementById("header");if(window.scrollY>50){e.classList.add("scrolled");return}e.classList.remove("scrolled")}),c("offline",()=>{console.log("Offline event fired")}),c("online",()=>{console.log("Online event fired")})}function b(){i(".pagination","click",e=>{let t=e.target.closest(".pagination-item");if(!t)return;let o=t.closest(".pagination");if(!o)return;o.querySelectorAll(".pagination-item").forEach(d=>d.classList.remove("active")),t.classList.add("active"),o.querySelectorAll(".pagination__body").forEach(d=>d.classList.remove("active"));let a=t.dataset.target,s=o.querySelector(`.pagination__body--${a}`);s&&s.classList.add("active");let u=o.querySelector(".pagination__heading");u&&(u.textContent=h(a))}),i(".menu-toggle","click",()=>{let e=document.querySelector(".sidebar");e&&e.classList.toggle("sidebar--active")}),i(".overlay","click",()=>{let e=document.querySelector(".sidebar");e&&e.classList.remove("sidebar--active")})}function w(){fetch("https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css",{method:"HEAD"}).then(e=>{if(e.ok){let t=document.createElement("link");t.rel="stylesheet",t.href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css",t.crossOrigin="anonymous",t.referrerPolicy="no-referrer",document.head.appendChild(t)}else throw new Error("CDN l\u1ED7i")}).catch(()=>{console.warn("CDN l\u1ED7i, d\xF9ng b\u1EA3n local.");let e=document.createElement("link");e.rel="stylesheet",e.href="assets/fonts/css/all.min.css",document.head.appendChild(e)})}function x(){i(".map-toggle","click",e=>{let t=document.querySelector(".map-frame--street"),o=document.querySelector(".map-frame--normal");t.classList.contains("active")?(t.classList.remove("active"),o.classList.add("active")):(o.classList.remove("active"),t.classList.add("active"))})}var l=class e{static show({title:t="Th\xF4ng b\xE1o",body:o="N\u1ED9i dung...",onOk:n=null,onCancel:r=null}={}){let a=e.getOrAdd();a.querySelector(".modal-header").textContent=t,a.querySelector(".modal-body").textContent=o,e.onOk=n,e.onCancel=r,a.classList.remove("hidden")}static hide(){let t=e.getOrAdd();t&&t.classList.add("hidden")}static initEvent(){i("#modalOverlay .btn-ok","click",()=>{typeof e.onOk=="function"&&e.onOk(),e.hide()}),i("#modalOverlay .btn-cancel","click",()=>{typeof e.onCancel=="function"&&e.onCancel(),e.hide()})}static getOrAdd(){let t=document.getElementById("modalOverlay");return t||(t=document.createElement("div"),t.id="modalOverlay",t.className="modal-overlay hidden",t.innerHTML=`
                <div class="modal">
                    <div class="modal-header"></div>
                    <div class="modal-body"></div>
                    <div class="modal-footer">
                        <button class="btn btn-ok">OK</button>
                        <button class="btn btn-cancel">H\u1EE7y</button>
                    </div>
                </div>
            `,document.body.appendChild(t),e.initEvent()),t}};document.addEventListener("DOMContentLoaded",async()=>{g(),w(),L(),b(),y(),x(),i(".contact-popup-trigger","click",()=>{console.log("Contact clicked!"),l.show({title:"Please reach out via ",body:"Email: kingnemacc@gmail.com or phone: 0834 311 855",onOk:()=>console.log("OK clicked"),onCancel:()=>console.log("Cancel clicked")})})});})();
